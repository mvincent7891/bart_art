{"version":3,"sources":["webpack/bootstrap ca52c4578a62c07dfc71","./js/main.js","./js/utils/bart.js","./js/utils/initialize_data.js"],"names":["dataObject","fetchStationData","$","ajax","url","method","success","fetchRoutes","fetchRouteData","number","BART_API","DataInitializer","stations","routes","routeConfig","dataFetcher","bind","stationParser","routesParser","routeParser","message","find","each","idx","station","abbr","html","name","lat","lng","address","city","county","state","zipcode","newStation","route","routeID","color","newRoute","push","Object","keys","length","console","log"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ca52c4578a62c07dfc71\n **/","import { DataInitializer } from './utils/initialize_data';\n\nconst dataObject = new DataInitializer();\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/main.js\n **/","export const fetchStationData = success => {\n  $.ajax({\n    url: 'http://api.bart.gov/api/stn.aspx?cmd=stns&key=MW9S-E7SL-26DU-VV8V',\n    method: 'GET',\n    success\n  });\n};\n\nexport const fetchRoutes = success => {\n  $.ajax({\n    url: 'http://api.bart.gov/api/route.aspx?cmd=routes&key=MW9S-E7SL-26DU-VV8V',\n    method: 'GET',\n    success\n  });\n};\n\nexport const fetchRouteData = (success, number) => {\n  $.ajax({\n    url: `http://api.bart.gov/api/route.aspx?cmd=routeinfo&route=${number}&key=MW9S-E7SL-26DU-VV8V`,\n    method: 'GET',\n    success\n  });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/utils/bart.js\n **/","import * as BART_API from './bart.js';\n\nexport class DataInitializer {\n  constructor () {\n    this.stations = {};\n    this.routes = {};\n    this.routeConfig = {};\n    this.dataFetcher = this.dataFetcher.bind(this);\n    this.stationParser = this.stationParser.bind(this);\n    this.routesParser = this.routesParser.bind(this);\n    this.routeParser = this.routeParser.bind(this);\n    this.dataFetcher();\n  }\n\n  dataFetcher () {\n    BART_API.fetchRoutes(this.routesParser);\n    BART_API.fetchStationData(this.stationParser);\n  }\n\n  stationParser (message) {\n    let stations = this.stations;\n    $(message).find('station').each((idx, station) => {\n      const abbr = $(station).find('abbr').html();\n      const name = $(station).find('name').html();\n      const lat = $(station).find('gtfs_latitude').html();\n      const lng = $(station).find('gtfs_longitude').html();\n      const address = $(station).find('address').html();\n      const city = $(station).find('city').html();\n      const county = $(station).find('county').html();\n      const state = $(station).find('state').html();\n      const zipcode = $(station).find('zipcode').html();\n      const newStation = { abbr, name, lat, lng, address,\n                           city, county, state, zipcode };\n      stations[abbr] = newStation;\n    });\n  }\n\n  routesParser (message) {\n    let routes = this.routes;\n    let routeParser = this.routeParser;\n    $(message).find('route').each((idx, route) => {\n      const abbr = $(route).find('abbr').html();\n      const name = $(route).find('name').html();\n      const routeID = $(route).find('routeID').html();\n      const number = $(route).find('number').html();\n      const color = $(route).find('color').html();\n      const newRoute = { abbr, name, routeID, number, color };\n      BART_API.fetchRouteData(routeParser, number);\n      routes[routeID] = newRoute;\n    });\n  }\n\n  routeParser (message) {\n    const number = $(message).find('number').html();\n    const stations = [];\n    $(message).find('station').each((idx, station) => {\n        stations.push($(station).html());\n    });\n    this.routeConfig[number] = stations;\n    if (Object.keys(this.routeConfig).length ===\n        Object.keys(this.routes).length) {\n      console.log(this.routeConfig);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/utils/initialize_data.js\n **/"],"sourceRoot":""}