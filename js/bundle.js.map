{"version":3,"sources":["webpack/bootstrap b44a51367824bdf83ca4","./js/main.js","./js/utils/parse_bart.js","./js/utils/bart.js","./js/utils/map.js","./js/utils/animate_list.js","./js/utils/path_finder.js"],"names":["dataObject","canvasEl","document","getElementsByTagName","height","width","BART_API","DataInitializer","stations","routes","routeConfig","dataFetcher","bind","stationParser","routesParser","routeParser","constructGraph","graph","fetchRoutes","fetchStationData","message","$stationEl","$","find","each","idx","station","abbr","html","name","lat","parseFloat","lng","address","city","county","state","zipcode","newStation","attr","append","route","routeID","number","color","newRoute","fetchRouteData","push","Object","keys","length","forEach","routeId","slice","index","includes","map","ajax","url","method","success","SubwayMap","stationCircles","stationLines","extractCoordLimits","mapStations","mapCircle","drawLine","canvas","ctx","getContext","minX","minY","maxY","parseInt","maxX","hover","x","y","a","b","x2","y2","c","d","graphArray","firstStation","stationsToDraw","undefined","stationsDrawn","i","mapCoords","indexOf","x1","y1","setTimeout","beginPath","moveTo","lineTo","lineWidth","strokeStyle","stroke","fillStyle","arc","Math","PI","fill","stationNames","minLat","maxLat","minLng","maxLng","lngRange","latRange","xCoord","floor","yCoord","ListAnimation","circles","lines","addOnHover","drawCircles","drawLines","updateList","clearCanvas","startAnimating","pathFinder","$blankEl","prepend","setInterval","circle","id","line","clearRect","mouseover","mouseout","PathFinder","console","log","initialInstructions","addOnClick","selectStation","solving","destination","origin","text","on"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b44a51367824bdf83ca4\n **/","import { DataInitializer } from './utils/parse_bart';\n\nconst dataObject = new DataInitializer();\n\nconst canvasEl = document.getElementsByTagName(\"canvas\")[0];\ncanvasEl.height = 540;\ncanvasEl.width = 490;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/main.js\n **/","import * as BART_API from './bart.js';\nimport { SubwayMap } from './map';\n\n\nexport class DataInitializer {\n  constructor () {\n    this.stations = {};\n    this.routes = {};\n    this.routeConfig = {};\n    this.dataFetcher = this.dataFetcher.bind(this);\n    this.stationParser = this.stationParser.bind(this);\n    this.routesParser = this.routesParser.bind(this);\n    this.routeParser = this.routeParser.bind(this);\n    this.constructGraph = this.constructGraph.bind(this);\n    this.graph = {};\n    this.dataFetcher();\n  }\n\n  dataFetcher () {\n    BART_API.fetchRoutes(this.routesParser);\n    BART_API.fetchStationData(this.stationParser);\n  }\n\n  stationParser (message) {\n    let stations = this.stations;\n    let $stationEl;\n    $(message).find('station').each((idx, station) => {\n      const abbr = $(station).find('abbr').html();\n      const name = $(station).find('name').html();\n      const lat = parseFloat($(station).find('gtfs_latitude').html());\n      const lng = parseFloat($(station).find('gtfs_longitude').html());\n      const address = $(station).find('address').html();\n      const city = $(station).find('city').html();\n      const county = $(station).find('county').html();\n      const state = $(station).find('state').html();\n      const zipcode = $(station).find('zipcode').html();\n      const newStation = { abbr, name, lat, lng, address,\n                           city, county, state, zipcode };\n      stations[abbr] = newStation;\n      $stationEl = $(`<li>${name}</li>`);\n      $stationEl.attr('id', `${abbr}`);\n      $stationEl.attr('class', `truncate`);\n      $(\"#list\").append($stationEl);\n    });\n  }\n\n  routesParser (message) {\n    let routes = this.routes;\n    let routeParser = this.routeParser;\n    $(message).find('route').each((idx, route) => {\n      const abbr = $(route).find('abbr').html();\n      const name = $(route).find('name').html();\n      const routeID = $(route).find('routeID').html();\n      const number = $(route).find('number').html();\n      const color = $(route).find('color').html();\n      const newRoute = { abbr, name, routeID, number, color };\n      BART_API.fetchRouteData(routeParser, number);\n      routes[routeID] = newRoute;\n    });\n  }\n\n  routeParser (message) {\n    const number = $(message).find('number').html();\n    const stations = [];\n    $(message).find('station').each((idx, station) => {\n        stations.push($(station).html());\n    });\n    this.routeConfig[number] = stations;\n    if (Object.keys(this.routeConfig).length ===\n        Object.keys(this.routes).length) {\n      this.constructGraph();\n    }\n  }\n\n  constructGraph () {\n    let graph = this.graph;\n    Object.keys(this.stations).forEach(abbr => {\n      graph[abbr] = [];\n    });\n    const routeConfig = this.routeConfig;\n    Object.keys(routeConfig).forEach(routeId => {\n      const route = routeConfig[routeId];\n      route.slice(0,(route.length - 1)).forEach((station, index) => {\n        if (!graph[route[index]].includes(route[index + 1])) {\n          graph[route[index]].push(route[index + 1]);\n        }\n      });\n    });\n    const map = new SubwayMap(graph, this.stations);\n\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/utils/parse_bart.js\n **/","export const fetchStationData = success => {\n  $.ajax({\n    url: 'http://api.bart.gov/api/stn.aspx?cmd=stns&key=MW9S-E7SL-26DU-VV8V',\n    method: 'GET',\n    success\n  });\n};\n\nexport const fetchRoutes = success => {\n  $.ajax({\n    url: 'http://api.bart.gov/api/route.aspx?cmd=routes&key=MW9S-E7SL-26DU-VV8V',\n    method: 'GET',\n    success\n  });\n};\n\nexport const fetchRouteData = (success, number) => {\n  $.ajax({\n    url: `http://api.bart.gov/api/route.aspx?cmd=routeinfo&route=${number}&key=MW9S-E7SL-26DU-VV8V`,\n    method: 'GET',\n    success\n  });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/utils/bart.js\n **/","import { ListAnimation } from './animate_list';\n\nexport class SubwayMap {\n\n  constructor (graph, stations) {\n    this.graph = graph;\n    this.stations = stations;\n    this.stationCircles = {};\n    this.stationLines = [];\n    this.extractCoordLimits = this.extractCoordLimits.bind(this);\n    this.mapStations = this.mapStations.bind(this);\n    this.mapCircle = this.mapCircle.bind(this);\n    this.drawLine = this.drawLine.bind(this);\n    this.canvas = document.getElementsByTagName(\"canvas\")[0];\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.minX = 0;\n    this.minY = 0;\n    this.maxY = parseInt(this.canvas.height) - 40;\n    this.maxX = parseInt(this.canvas.width) - 40;\n    this.extractCoordLimits();\n    this.mapStations();\n    const hover = new ListAnimation(this.stations, this.stationCircles,\n                                    this.stationLines, graph);\n  }\n\n  mapStations() {\n    let x, y, a, b, x2, y2, c, d;\n    const graphArray = Object.keys(this.graph);\n    const graph = this.graph;\n    let firstStation = graphArray[0];\n    // To choose random starting station (causes error sometimes):\n    // let firstStation = graphArray[Math.floor(Math.random() * graphArray.length)];\n    let stationsToDraw = [[firstStation, undefined]];\n    let stationsDrawn = [];\n    let i = -1;\n    let station;\n    while (stationsToDraw.length > 0) {\n      station = stationsToDraw[0][0];\n      i += 1;\n      x = this.stations[station].lng;\n      y = this.stations[station].lat;\n      [a, b] = this.mapCoords(x,y);\n      if (stationsToDraw[0][1]) {\n        x2 = this.stations[stationsToDraw[0][1]].lng;\n        y2 = this.stations[stationsToDraw[0][1]].lat;\n        [c, d] = this.mapCoords(x2,y2);\n        this.drawLine(a, b, c, d, i);\n      }\n      this.mapCircle(a, b, i, station);\n      this.stationCircles[station] = [a + 20, b + 20, 2, '#474747'];\n      stationsDrawn.push(stationsToDraw[0][0]);\n      graph[station].forEach(newStation => {\n        if (stationsDrawn.indexOf(newStation) === -1) {\n          stationsToDraw.push([newStation, station]);\n        }\n      });\n      stationsToDraw = stationsToDraw.slice(1);\n    }\n  }\n\n  drawLine (x1, y1, x2, y2, i) {\n    this.stationLines.push([x1 + 20, y1 + 20, x2 + 20, y2 + 20]);\n    setTimeout(() => {\n      this.ctx.beginPath();\n      this.ctx.moveTo(x1 + 20, y1 + 20);\n      this.ctx.lineTo(x2 + 20, y2 + 20);\n      this.ctx.lineWidth = 1;\n      this.ctx.strokeStyle = '#474747';\n      this.ctx.stroke();\n    }, (25 * i));\n  }\n\n  mapCircle (x, y, i) {\n    setTimeout(() => {\n      this.ctx.fillStyle = \"#474747\";\n      this.ctx.beginPath();\n      this.ctx.arc(\n        x + 20,\n        y + 20,\n        2,\n        0,\n        2 * Math.PI,\n        false\n      );\n      this.ctx.fill();\n    }, ((25*i) + (2 * i)) );\n  }\n\n  extractCoordLimits () {\n    // Pull minimum and maximum lat/lng for normalizing map on canvas\n    const stations = this.stations;\n    const stationNames = Object.keys(this.stations);\n    const firstStation = stations[stationNames[0]];\n    this.minLat = firstStation.lat;\n    this.maxLat = firstStation.lat;\n    this.minLng = firstStation.lng;\n    this.maxLng = firstStation.lng;\n    let newStation;\n    stationNames.forEach(name => {\n      newStation = stations[name];\n      if (newStation.lat > this.maxLat) {\n        this.maxLat = newStation.lat;\n      } else if (newStation.lat < this.minLat) {\n        this.minLat = newStation.lat;\n      }\n      if (newStation.lng > this.maxLng) {\n        this.maxLng = newStation.lng;\n      } else if (newStation.lng < this.minLng) {\n        this.minLng = newStation.lng;\n      }\n    });\n  }\n\n  mapCoords(lng, lat) {\n    // Pass in (lat, lng); return (x, y) coords for canvas element\n    const lngRange = this.maxLng - this.minLng;\n    const latRange = this.maxLat - this.minLat;\n    const xCoord = Math.floor(this.maxX * (lng - this.minLng) / lngRange);\n    const yCoord = Math.floor(this.maxY * (lat - this.minLat) / latRange);\n\n    return([xCoord, this.maxY - yCoord]);\n\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/utils/map.js\n **/","import { PathFinder } from './path_finder';\n\nexport class ListAnimation {\n\n  constructor (stations, circles, lines, graph) {\n    this.stations = stations;\n    this.circles = circles;\n    this.lines = lines;\n    this.addOnHover = this.addOnHover.bind(this);\n    this.drawCircles = this.drawCircles.bind(this);\n    this.drawLines = this.drawLines.bind(this);\n    this.updateList = this.updateList.bind(this);\n    this.canvas = document.getElementsByTagName(\"canvas\")[0];\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.clearCanvas = this.clearCanvas.bind(this);\n    this.startAnimating = this.startAnimating.bind(this);\n    this.updateList();\n    setTimeout(() => this.addOnHover(), 3000);\n    setTimeout(() => this.startAnimating(), 3000);\n    setTimeout(() => {\n      this.pathFinder = new PathFinder(this.stations, this.circles,\n                                       this.lines, graph);\n    }, 2000);\n  }\n\n  updateList () {\n    let $blankEl;\n    for (var i = 0; i < 8; i++) {\n      $blankEl = $(`<li>BLANK</li>`);\n      $blankEl.attr('class', `blank`);\n      $(\"#list\").append($blankEl);\n    }\n    for (var i = 0; i < 6; i++) {\n      $blankEl = $(`<li>BLANK</li>`);\n      $blankEl.attr('class', `blank`);\n      $(\"#list\").prepend($blankEl);\n    }\n  }\n\n  startAnimating() {\n    setInterval(() => {\n      this.clearCanvas();\n      this.drawLines();\n      this.drawCircles();\n    }, 5);\n  }\n\n  drawCircles () {\n    let circle;\n    Object.keys(this.circles).forEach(id => {\n      circle = this.circles[id];\n      this.ctx.fillStyle = circle[3];\n      this.ctx.beginPath();\n      this.ctx.arc(\n        circle[0],\n        circle[1],\n        circle[2],\n        0,\n        2 * Math.PI,\n        false\n      );\n      this.ctx.fill();\n    });\n  }\n\n  drawLines () {\n    let x1, y1, x2, y2;\n    this.lines.forEach(line => {\n      [x1, y1, x2, y2] = line;\n      this.ctx.beginPath();\n      this.ctx.moveTo(x1, y1);\n      this.ctx.lineTo(x2, y2);\n      this.ctx.lineWidth = 1;\n      this.ctx.strokeStyle = '#676767';\n      this.ctx.stroke();\n    });\n  }\n\n  clearCanvas () {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n  }\n\n  addOnHover () {\n    const stations = this.stations;\n    Object.keys(stations).forEach(abbr=> {\n      $(`#${abbr}`).mouseover(() => {\n        this.circles[abbr][3] = '#00ACC1';\n        for (var i = 0; i < 6; i++) {\n          setTimeout(() => {\n            this.circles[abbr][2] = this.circles[abbr][2] + 1;\n          },i * 60);\n        }\n      });\n      $(`#${abbr}`).mouseout(() => {\n        this.circles[abbr][3] = '#676767';\n        for (var i = 0; i < 7; i++) {\n          setTimeout(() => {\n            if (this.circles[abbr][2] > 2) {\n              this.circles[abbr][2] = this.circles[abbr][2] - 1;\n            }\n          },i * 60);\n        }\n      });\n    });\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/utils/animate_list.js\n **/","\n\nexport class PathFinder {\n  constructor (stations, circles, lines, graph) {\n    console.log(circles);\n    console.log(stations);\n    this.circles = circles;\n    this.stations = stations;\n    this.initialInstructions = this.initialInstructions.bind(this);\n    this.addOnClick = this.addOnClick.bind(this);\n    this.selectStation = this.selectStation.bind(this);\n    this.solving = false;\n    this.initialInstructions();\n    this.addOnClick();\n    this.destination = undefined;\n    this.origin = undefined;\n  }\n\n  initialInstructions() {\n    $(\"#instructions\").text(`Select origin...`);\n  }\n\n  addOnClick () {\n    const stations = this.stations;\n    Object.keys(stations).forEach(abbr=> {\n      $(`#${abbr}`).on('click', () => {\n        if (!this.solving && (this.stations[abbr] !== this.destination)) {\n          this.selectStation(abbr);\n          $(`#${abbr}`).attr('class', 'selected');\n        }\n      });\n    });\n  }\n\n  selectStation (abbr) {\n    const x = this.circles[abbr][0];\n    const y = this.circles[abbr][1];\n\n    if (this.destination) {\n      // set arrival and start alorithm\n      this.origin = this.stations[abbr];\n      this.solving = true;\n      this.circles['destination'] = [x, y, 6, '#EC407A'];\n      $(\"#instructions\").text(`Solving...`);\n      $(\"#route\").text(`${this.origin.name} to ${this.destination.name}`);\n\n    } else {\n      this.destination = this.stations[abbr];\n      this.circles['origin'] = [x, y, 6, '#FFC107'];\n      $(\"#instructions\").text(`Select destination...`);\n    }\n  }\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/utils/path_finder.js\n **/"],"sourceRoot":""}